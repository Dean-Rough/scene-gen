{"ast":null,"code":"import React,{useState,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DesignCanvas=_ref=>{let{floorplanUrl,selectedAsset,sceneElements,onElementPlace,onElementMove}=_ref;const canvasRef=useRef();const[canvasDimensions]=useState({width:800,height:600});const handleCanvasClick=e=>{if(!selectedAsset)return;const rect=e.target.getBoundingClientRect();const x=e.clientX-rect.left;const y=e.clientY-rect.top;onElementPlace({assetId:selectedAsset.id,positionX:x,positionY:y,rotationZ:0,scaleX:1,scaleY:1});};return/*#__PURE__*/_jsxs(\"div\",{className:\"design-canvas\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"canvas-container\",style:{border:'1px solid #ccc',borderRadius:'4px',position:'relative',width:canvasDimensions.width,height:canvasDimensions.height,overflow:'hidden',cursor:selectedAsset?'crosshair':'default'},children:[floorplanUrl&&/*#__PURE__*/_jsx(\"img\",{src:floorplanUrl,alt:\"Floorplan\",style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',objectFit:'contain',pointerEvents:'none'}}),/*#__PURE__*/_jsx(\"div\",{ref:canvasRef,onClick:handleCanvasClick,style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',zIndex:1}}),sceneElements.map(element=>/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',left:element.position_x-30,top:element.position_y-30,width:'60px',height:'60px',zIndex:2,cursor:'move'},children:/*#__PURE__*/_jsx(\"img\",{src:element.asset_image_url,alt:\"Asset\",style:{width:'100%',height:'100%',objectFit:'cover',border:'2px solid #007bff',borderRadius:'4px'}})},element.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"canvas-controls\",style:{marginTop:'10px',padding:'10px',backgroundColor:'#f5f5f5',borderRadius:'4px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0',fontSize:'14px',color:'#666'},children:selectedAsset?\"Click on the canvas to place: \".concat(selectedAsset.type):'Select an asset from the library to place it on the canvas'}),sceneElements.length>0&&/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0 0 0',fontSize:'12px',color:'#999'},children:[\"Assets placed: \",sceneElements.length]})]})]});};export default DesignCanvas;","map":{"version":3,"names":["React","useState","useRef","jsx","_jsx","jsxs","_jsxs","DesignCanvas","_ref","floorplanUrl","selectedAsset","sceneElements","onElementPlace","onElementMove","canvasRef","canvasDimensions","width","height","handleCanvasClick","e","rect","target","getBoundingClientRect","x","clientX","left","y","clientY","top","assetId","id","positionX","positionY","rotationZ","scaleX","scaleY","className","children","style","border","borderRadius","position","overflow","cursor","src","alt","objectFit","pointerEvents","ref","onClick","zIndex","map","element","position_x","position_y","asset_image_url","marginTop","padding","backgroundColor","margin","fontSize","color","concat","type","length"],"sources":["/Users/deannewton/Projects/Scene-Gen/frontend/src/components/DesignCanvas.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\n\nconst DesignCanvas = ({ \n  floorplanUrl, \n  selectedAsset, \n  sceneElements, \n  onElementPlace,\n  onElementMove \n}) => {\n  const canvasRef = useRef();\n  const [canvasDimensions] = useState({ width: 800, height: 600 });\n\n  const handleCanvasClick = (e) => {\n    if (!selectedAsset) return;\n    \n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    \n    onElementPlace({\n      assetId: selectedAsset.id,\n      positionX: x,\n      positionY: y,\n      rotationZ: 0,\n      scaleX: 1,\n      scaleY: 1\n    });\n  };\n\n  return (\n    <div className=\"design-canvas\">\n      <div className=\"canvas-container\" style={{ \n        border: '1px solid #ccc', \n        borderRadius: '4px',\n        position: 'relative',\n        width: canvasDimensions.width,\n        height: canvasDimensions.height,\n        overflow: 'hidden',\n        cursor: selectedAsset ? 'crosshair' : 'default'\n      }}>\n        {/* Background floorplan */}\n        {floorplanUrl && (\n          <img\n            src={floorplanUrl}\n            alt=\"Floorplan\"\n            style={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              objectFit: 'contain',\n              pointerEvents: 'none'\n            }}\n          />\n        )}\n        \n        {/* Click overlay */}\n        <div\n          ref={canvasRef}\n          onClick={handleCanvasClick}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            zIndex: 1\n          }}\n        />\n        \n        {/* Placed scene elements */}\n        {sceneElements.map((element) => (\n          <div\n            key={element.id}\n            style={{\n              position: 'absolute',\n              left: element.position_x - 30,\n              top: element.position_y - 30,\n              width: '60px',\n              height: '60px',\n              zIndex: 2,\n              cursor: 'move'\n            }}\n          >\n            <img\n              src={element.asset_image_url}\n              alt=\"Asset\"\n              style={{\n                width: '100%',\n                height: '100%',\n                objectFit: 'cover',\n                border: '2px solid #007bff',\n                borderRadius: '4px'\n              }}\n            />\n          </div>\n        ))}\n      </div>\n      \n      <div className=\"canvas-controls\" style={{ \n        marginTop: '10px', \n        padding: '10px', \n        backgroundColor: '#f5f5f5', \n        borderRadius: '4px' \n      }}>\n        <p style={{ margin: '0', fontSize: '14px', color: '#666' }}>\n          {selectedAsset \n            ? `Click on the canvas to place: ${selectedAsset.type}` \n            : 'Select an asset from the library to place it on the canvas'\n          }\n        </p>\n        {sceneElements.length > 0 && (\n          <p style={{ margin: '5px 0 0 0', fontSize: '12px', color: '#999' }}>\n            Assets placed: {sceneElements.length}\n          </p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DesignCanvas;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}